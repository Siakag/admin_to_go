function submitContactForm(e){var t=$(e);var n=t.attr("action");var r=t.attr("method");var i=t.serialize();var s=t.find("input, textarea");$.post(n,i,function(e){$("#contactMe").fadeOut()}).done(function(){console.log("success")}).fail(function(){console.log("failed")}).always(function(e){$("#loader").hide();$("#formMessage").html(e).fadeIn();console.log("always");setTimeout(function(){$("#contactMe").find("input[type=text], input[type=tel], textarea").val("");$("#refreshForm").fadeIn();s.prop("disabled",false)},3e3)})}function checkFields(e){var t=$(e);var n=t.serializeArray();var r;var i="";var s=true;for(r=0;r<n.length;r++){var o="#"+n[r].name+"label";var u=$(o).text();if(n[r].value===""||n[r].value===null){if(o==="#pnumber0label"||o==="#pnumber1label"||o==="#pnumber2label"){u="Phone number";i+=u+" is invalid. Please enter a complete phone number including area code.";s=false;$("#formError").html(i);return s}else{s=false;i+=u+" field is required.";$("#formError").html(i);return s}}}return s}function isNum(e){var t=e.which||e.keyCode;if(t>31&&(t<48||t>57))return false;return true}function autoAdvance(e){var t=e;$(t).keyup(function(e){if($(this).val().length===$(this).prop("maxlength")){if(e.keyCode===16||e.keyCode===9)return;$(this).next().focus()}})}function pNumValidLength(e,t,n){a=$.trim($(e).val()).length;p=$.trim($(t).val()).length;l=$.trim($(n).val()).length;goodNums=a===3&&p===3&&l===4?true:false;if(goodNums){return true}err="Phone number is invalid. Please enter a complete phone number including area code.";$("#formError").show().html(err);return false}$(function(){$("#contactMe > #submit").click(function(e){if(checkFields("#contactMe")&&pNumValidLength("#pnumber0","#pnumber1","#pnumber2")){$("#formError").html("");submitContactForm("#contactMe");$("#contactMe").hide();$("#underForm, #loader").show()}});autoAdvance(".tels");(function(){var e=$("#nav li a");$(e).on("click",function(e){e.preventDefault();var t=$(this).data("mapto");var n=$(t).position().top;$("html, body").animate({scrollTop:n},500)})})();$(".menu").click(function(){$(this).parent().children("li").toggle(500)})});(function(){$("#refreshFormTag").click(function(e){$("#contactMe").fadeIn();$("#underForm, #formMessage, #refreshForm").hide();e.preventDefault()})})()